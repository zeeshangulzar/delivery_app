<div class="right_col" role="main">
  <div class="">
    <div class="page-title">
      <div class="title_left">
        <h3><%= User.find(params[:user_id]).name.try(:titleize) %>'s Orders</h3>
      </div>
    </div>

    <div class="clearfix"></div>

    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_content">
            <div class="well" style="font-size:14px;">
              <h4>Booking Details:</h4>
              <div id="info_well" style="display: flex;">
                <div id="user_info" style="width: 49%">
                  <div><i class="fa fa-map-marker"></i><b> From: </b><%= @booking.location.address.try(:titleize) %></div>
                  <div><b> Total Amount: </b><%= append_qar(@booking.total_amount) %></div>
                </div>
                <div id="user_info" style="width: 49%">
                  <div><i class="fa fa-user"></i><b> Status: </b><%= @booking.status.try(:titleize) %></div>
                  <div><i class="fa fa-calendar" ></i><b> Date Created: </b><%= time_format(@booking.created_at) %></div>
                </div>
              </div>
              <br>
              <h4>Shedule:</h4>
              <div id="info_well" style="display: flex;">
                <div id="user_info" style="width: 49%">
                  <div><i class="fa fa-calendar"></i><b> Date: </b><%= time_format(@booking.time_slot.date) %></div>
                  <div><b>Charges: </b><%= append_qar(@booking.time_slot.charges) %></div>
                </div>
                <div id="user_info" style="width: 49%">
                  <div><i class="fa fa-clock-o"></i><b> Start Time: </b><%= Time.parse(@booking.time_slot.start_time.to_s).strftime("%l:%M %P") %></div>
                  <div><i class="fa fa-clock-o"></i><b> End Time: </b><%= Time.parse(@booking.time_slot.end_time.to_s).strftime("%l:%M %P") %></div>
                </div>
              </div>
            </div>

            <div class="x_content" style="overflow-x: scroll">
            <h3 style="text-align: center; ">Orders</h3>
              <table id="datatable" class="table table-striped table-bordered">
                <thead>
                  <tr class="colors">
                    <td rowspan="2">To</td>
                    <td rowspan="2">Status</td>
                    <th colspan="3" scope="colgroup">Quatity</th>
                    <td rowspan="2">Order Date</td>
                    <td rowspan="2">Total Amount</td>
                    <td rowspan="2">Actions</td>
                  </tr>
                  <tr class="colors">
                    <th>Small</th>
                    <th>Medium</th>
                    <th>Large</th>
                  </tr>
                </thead>
                <tbody>
                  <% @orders.each do |order| %>
                    <tr>
                      <td><%= order.location.address.try(:titleize) %></td>
                      <td><%= order.status.try(:titleize) %></td>
                      <td><%= order.small.to_i %></td>
                      <td><%= order.medium.to_i %></td>
                      <td><%= order.large.to_i %></td>
                      <td><%= time_format(order.created_at) %></td>
                      <td><%= append_qar(order.amount) %></td>
                      <td>
                        <%= link_to 'View', order_path(booking_id: @booking.id), class: "btn btn-info btn-sm " %>
                      </td>
                    </tr>
                  <% end %>

                </tbody>
              </table>
            </div>
            <div class="dataTables_paginate paging_simple_numbers">
                <%= paginate @orders, window: 4 %>
            </div>
            <br>
            <%= page_entries_info @orders %>
            <br>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
